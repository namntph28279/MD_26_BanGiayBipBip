<html lang="en">

<head>
    <title>Đơn Hàng</title>
    <link rel="stylesheet" href="styles.css">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <style>


        body {
            margin: 7px auto auto;
        }

        /* Style cho các button */

        /* Style cho bảng sản phẩm */
        .table td {
            vertical-align: middle;
        }

        .table .table-actions a {
            margin-right: 5px;
        }

        .btn-cf {
            outline: unset !important;
        }

        .mess {
            position: relative;
            display: inline-block;
        }

        .mess::after {
            content: "";
            position: absolute;
            left: 0;
            bottom: 0;
            width: 0;
            height: 1px;
            background-color: white;
            transition: width 0.5s ease-in-out;
        }

        .mess:hover::after {
            width: 100%;
        }
    </style>
</head>

<body class="bg-gray-200">
<div class="flex h-full">
    <!--Side Navbar-->
    <div class="bg-indigo-900 w-1/6 ">
        <div class=" bg-indigo-800">
            <div class=" text-xl text-gray-200 uppercase font-bold" style="padding: 33px;">Shop BipBip</div>
        </div>

        <a href="/home" class=" cursor-pointer mess ml-3 mt-3 w-10/12" style="border-bottom-width: 1px; text-decoration: none ">
           <div class="flex" style=" padding: 12px;">
               <div>
                   <img class="w-5 h-5" src="dashboard.png" alt="">
               </div>
               <div class="mx-3 text-sm text-gray-100 ">Đơn Hàng</div>
           </div>
        </a>


        <a href="/mess" class="cursor-pointer mess ml-3 mt-3 w-10/12" style="text-decoration: none">
            <div class="flex" style=" padding: 12px;">
                <div>
                    <img class="w-5 h-5 " src="messages.png" alt="">
                </div>
                <div class="mx-3 text-sm text-gray-100 ">Tin Nhắn</div>
            </div>
        </a>

        <a href="/warehouse" class="cursor-pointer mess ml-3 mt-3 w-10/12" style="text-decoration: none">
          <div class="flex" style=" padding: 12px;">
              <div>
                  <img class="w-5 h-5" src="kho.svg" alt="">
              </div>
              <div class="mx-3 text-sm text-gray-100">Kho Hàng</div>
          </div>
        </a>
    </div>
    <!--Side Navbar-->

    <!--Main area-->

    <div class="flex-1">
        <!--Top navbar-->
        <div>

            <div class="bg-white px-2 py-0.5 h-18 flex">
                <div class="left md:w-3/4 sm:w-1/3 flex p-3">
                    <img src="person.png" class="w-10 h-10" alt="">
                    <span class="block p-2">Admin</span>
                </div>
                <div class="right md:w-1/4 sm:w-2/3 flex  justify-content-end ">
                    <img src="message.png" class="w-7 h-7 bg-gray-100 rounded-full p-1 mx-2 my-4 cursor-pointer" alt="">
                </div>
            </div>
        </div>
        <!--Top navbar-->

        <div class="card-container flex m-7 space-x-6 ">
            <div class="card w-full">
                <button type="button" class="btn btn-danger" onclick="NotificaionClient()">Test thông báo</button>
                <div style=" display: flex; line-height: 48px;  margin: 0 14px; justify-content: space-between;">
                  <div>
                      <button class="btn-cf default-selected" style=" padding: 0 8px;" onclick="openOrder('confirm')">Chờ xác nhận</button>
                      <button class="btn-cf" style=" padding: 0 8px;" onclick="openOrder('pickup')">Chờ lấy hàng</button>
                      <button class="btn-cf" style=" padding: 0 8px;" onclick="openOrder('delivery')">Chờ giao hàng</button>
                      <button class="btn-cf" style=" padding: 0 8px;" onclick="openOrder('delivered')">Đã giao</button>
                      <button class="btn-cf" style=" padding: 0 8px;" onclick="openOrder('returns')">Trả hàng</button>
                  </div>
                    <button class="btn-cf" style=" padding: 0 8px;" onclick="openOrder('history')">Lịch sử</button>
                </div>
                <div style="margin: 8px;color: #0008ff;display: flex;" >
                    <div>Đơn hàng</div>
                    <div id="selectedText"></div>
                </div>
                <div id="confirm" class=" status" style="padding: 0 8px;">
                    <table class="table table-bordered ">
                        <thead>
                        <tr>
                            <th style="text-align: center;width: 110px">STT</th>
                            <th style="text-align: center;">Mã Đơn Hàng</th>
                            <th style="text-align: center;width: 120px">Số lượng</th>
                            <th style="text-align: center;width: 130px">Giá tiền</th>
                            <th style="text-align: center;width: 130px">Chi tiết</th>
                            <th style="text-align: center;width: 345px;">Thao tác</th>
                        </tr>
                        </thead>
                    </table>
                </div>
                <div id="pickup" class=" status" style="display:none ;padding: 0 8px;">
                    <table class="table table-bordered ">
                        <thead>
                        <tr>
                            <th style="text-align: center;width: 110px">STT</th>
                            <th style="text-align: center;">Mã Đơn Hàng</th>
                            <th style="text-align: center;width: 120px">Số lượng</th>
                            <th style="text-align: center;width: 130px">Giá tiền</th>
                            <th style="text-align: center;width: 130px">Chi tiết</th>
                            <th style="text-align: center;width: 345px;">Thao tác</th>
                        </tr>
                        </thead>
                    </table>
                </div>
                <div id="delivery" class=" status" style="display:none ;padding: 0 8px;">
                    <table class="table table-bordered ">
                        <thead>
                        <tr>
                            <th style="text-align: center;width: 110px">STT</th>
                            <th style="text-align: center;">Mã Đơn Hàng</th>
                            <th style="text-align: center;width: 120px">Số lượng</th>
                            <th style="text-align: center;width: 130px">Giá tiền</th>
                            <th style="text-align: center;width: 130px">Chi tiết</th>
                            <th style="text-align: center;width: 345px;">Thao tác</th>
                        </tr>
                        </thead>
                    </table>
                </div>
                <div id="delivered" class=" status" style="display:none ;padding: 0 8px;">
                    <table class="table table-bordered ">
                        <thead>
                        <tr>
                            <th style="text-align: center;width: 110px">STT</th>
                            <th style="text-align: center;">Mã Đơn Hàng</th>
                            <th style="text-align: center;width: 120px">Số lượng</th>
                            <th style="text-align: center;width: 130px">Giá tiền</th>
                            <th style="text-align: center;width: 130px">Chi tiết</th>
                            <th style="text-align: center;width: 345px;">Thao tác</th>
                        </tr>
                        </thead>
                    </table>
                </div>
                <div id="returns" class=" status" style="display:none ;padding: 0 8px;">
                    <table class="table table-bordered ">
                        <thead>
                        <tr>
                            <th style="text-align: center;width: 110px">STT</th>
                            <th style="text-align: center;">Mã Đơn Hàng</th>
                            <th style="text-align: center;width: 120px">Số lượng</th>
                            <th style="text-align: center;width: 130px">Giá tiền</th>
                            <th style="text-align: center;width: 130px">Chi tiết</th>
                            <th style="text-align: center;width: 345px;">Thao tác</th>
                        </tr>
                        </thead>
                    </table>
                </div>
                <div id="history" class=" status" style="display:none ;padding: 0 8px;">
                    <table class="table table-bordered ">
                        <thead>
                        <tr>
                            <th style="text-align: center;width: 110px">STT</th>
                            <th style="text-align: center;">Mã Đơn Hàng</th>
                            <th style="text-align: center;width: 120px">Số lượng</th>
                            <th style="text-align: center;width: 130px">Giá tiền</th>
                            <th style="text-align: center;width: 130px">Chi tiết</th>
                        </tr>
                        </thead>
                    </table>
                </div>

            </div>


        </div>
    </div>
</div>

</body>
<script>
    let selectedCity = null;
    let addedTexts = [];
    window.onload = function() {
        const defaultButton = document.querySelector('.btn-cf.default-selected');
        defaultButton.click();
    };

    function NotificaionClient(){
        console.log("ok")
        fetch('https://exp.host/--/api/v2/push/send', {
            mode: 'no-cors',
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                to: 'ExponentPushToken[l9_Yr-DKiVXVowKIC5pO_D]',
                title: 'ShopBipBip',
                body: 'Hello'
            })
        });
    }
    function openOrder(orderName) {
        let i;
        const x = document.getElementsByClassName("status");
        const buttons = document.querySelectorAll(".btn-cf");
        const buttonText = document.querySelector('.btn-cf[onclick="openOrder(\'' + orderName + '\')"]');
        console.log(buttonText)
        if (!addedTexts.includes(orderName)) {
            selectedCity = orderName
            addedTexts= orderName
            console.log("Đã chọn: " + orderName);
            console.log(addedTexts)
            const selectedText = document.getElementById("selectedText");
            selectedText.textContent = "  > " + buttonText.innerText;
        }
        for (i = 0; i < buttons.length; i++) {
             buttons[i].style.background="white";
        }
        for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";
        }
        buttonText.style.background="rgba(229, 231, 235, 255)"
        document.getElementById(orderName).style.display = "block";
    }
</script>
</html>